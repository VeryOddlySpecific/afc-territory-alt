{"version":3,"file":"index.js","mappings":"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","sources":["webpack://afc-territory/./src/components/MapDisplay.jsx","webpack://afc-territory/./src/components/MapLegend.jsx","webpack://afc-territory/./src/components/RegionSelector.jsx","webpack://afc-territory/./src/components/SubregionData.jsx","webpack://afc-territory/./src/context/MapContext.jsx","webpack://afc-territory/./src/layout/Layout.jsx","webpack://afc-territory/./src/layout/MapProvider.jsx","webpack://afc-territory/external window \"React\"","webpack://afc-territory/external window [\"wp\",\"components\"]","webpack://afc-territory/external window [\"wp\",\"element\"]","webpack://afc-territory/webpack/bootstrap","webpack://afc-territory/webpack/runtime/compat get default export","webpack://afc-territory/webpack/runtime/define property getters","webpack://afc-territory/webpack/runtime/hasOwnProperty shorthand","webpack://afc-territory/webpack/runtime/make namespace object","webpack://afc-territory/./src/index.js"],"sourcesContent":["import { useContext, useEffect } from '@wordpress/element'\r\nimport { MapContext } from '../context/MapContext'\r\n\r\nconst MapDisplay = () => {\r\n\r\n    const { mapRef } = useContext(MapContext)\r\n\r\n    const setupMap = async () => {\r\n        const overpassQuery = `[out:json][timeout:25];\r\n            area[\"name\"=\"Nebraska\"]->.searchArea;\r\n            relation[\"boundary\"=\"administrative\"][\"admin_level\"=\"6\"](area.searchArea);\r\n            (._;>;);\r\n            out;`\r\n        \r\n        fetch('https://overpass-api.de/api/interpreter', {\r\n            method: 'POST',\r\n            body: overpassQuery\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            const features  = []\r\n            const nodes     = data.elements.filter(element => element.type === 'node')\r\n            const ways      = data.elements.filter(element => element.type === 'way')\r\n            const relations = data.elements.filter(element => element.type === 'relation')\r\n            \r\n            relations.forEach(relation => {\r\n                let boundaryCoords = []\r\n\r\n                relation.members.forEach(member => {\r\n                    if (member.type === 'way') {\r\n                        let wayObj = ways.find(way => way.id === member.ref)\r\n\r\n                        if (wayObj) {\r\n                            wayObj.nodes.forEach(nodeId => {\r\n                                let nodeObj = nodes.find(node => node.id === nodeId)\r\n\r\n                                if (nodeObj) {\r\n                                    let coordinates = [nodeObj.lat, nodeObj.lon]\r\n                                    boundaryCoords.push(coordinates)\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n\r\n                // coord check for closed polygon\r\n                if (boundaryCoords[0] !== boundaryCoords[boundaryCoords.length - 1]) {\r\n                    boundaryCoords.push(boundaryCoords[0])\r\n                }\r\n\r\n                \r\n                let newPolygon = turf.polygon([boundaryCoords], relation.tags)\r\n                features.push(newPolygon)\r\n            })\r\n\r\n            let newCollection   = turf.featureCollection(features)\r\n            console.log(newCollection)\r\n\r\n            let newLayer        = L.geoJSON(newCollection)\r\n            console.log(newLayer)\r\n\r\n            newLayer.addTo(mapRef.current)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        mapRef.current = L.map('admin-map-display', {\r\n            center: [39.8283, -98.5795],\r\n            zoom: 4,\r\n            maxBounds: [\r\n                [49.3843, -66.8859],\r\n                [24.3963, -124.8489]\r\n            ]\r\n        })\r\n\r\n        L.tileLayer('https://api.maptiler.com/maps/dataviz/{z}/{x}/{y}.png?key=GXUO6RDrkZ9BfFwKsVIr', {\r\n            attribution: '<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>',\r\n            maxZoom: 19,\r\n        }).addTo(mapRef.current);        \r\n\r\n        setupMap()\r\n\r\n        \r\n    }, [])\r\n\r\n    \r\n    return (\r\n        <div id=\"admin-map-display\" style={{ height: '750px' }}></div>\r\n    )\r\n}\r\n\r\nexport default MapDisplay","import { MapContext } from \"../context/MapContext\"\r\nimport { useContext } from '@wordpress/element'\r\nimport { Card, CardHeader, CardBody, Heading, Grid, Button } from '@wordpress/components'\r\n\r\nconst MapLegend = () => {\r\n\r\n    const { branches, setBranches } = useContext(MapContext)\r\n\r\n    const handleLegendAction = (event) => {\r\n        setBranches(event.target.key)\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <Heading>Map Legend</Heading>\r\n            </CardHeader>\r\n            <CardBody>\r\n                <Grid columns={7} gap={2}>\r\n                {\r\n                    branches.map((branch) => {\r\n                        return (\r\n                            <Button \r\n                                style={{backgroundColor: branch.color, color: 'white'}}\r\n                                key={branch.id}\r\n                                onClick={handleLegendAction}\r\n                            >\r\n                            {branch.name}\r\n                            </Button>\r\n                        )\r\n                    })\r\n                }\r\n                </Grid>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default MapLegend","import { MapContext } from \"../context/MapContext\"\r\nimport { useContext } from '@wordpress/element'\r\nimport { Card, CardHeader, CardBody, Heading, Grid, ToggleControl } from '@wordpress/components'\r\n\r\nconst RegionSelector = () => {\r\n\r\n    const { regions, setRegions } = useContext(MapContext)\r\n\r\n    const handleRegionAction = (event) => {\r\n        var eventProp = event.target.id\r\n        var eventData = event.target.type === \"checkbox\" ? event.target.checked : event.target.value\r\n\r\n        setRegions(regions.map(region => {\r\n            return {\r\n                ...region,\r\n                [eventProp]: eventData\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <Heading>Region Selector</Heading>\r\n            </CardHeader>\r\n            <CardBody>\r\n                <Grid columns={6} gap={2}>\r\n                {\r\n                    regions.map((region) => {\r\n                        return (\r\n                            <ToggleControl\r\n                                key={region.fips}\r\n                                label={region.name}\r\n                                checked={region.active}\r\n                                onChange={handleRegionAction}\r\n                            />\r\n                        )\r\n                    })\r\n                }\r\n                </Grid>\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default RegionSelector","import { MapContext } from \"../context/MapContext\"\r\nimport { useContext } from '@wordpress/element'\r\nimport { Card, CardHeader, CardBody, Heading, ButtonGroup, Button, ToggleControl, SelectControl, CardDivider, TextControl } from '@wordpress/components'\r\n\r\nconst SubregionData = () => {\r\n\r\n    const { selectedSubregions, setSelectedSubregions, handleMapSave } = useContext(MapContext)\r\n\r\n    const handleSubregionAction = (event) => {\r\n        var eventProp = event.target.id\r\n        var eventData = event.target.type === \"checkbox\" ? event.target.checked : event.target.value\r\n\r\n        setSelectedSubregions(selectedSubregions.map(subregion => {\r\n            return {\r\n                ...subregion,\r\n                [eventProp]: eventData\r\n            }\r\n        }))\r\n    }\r\n\r\n    return (\r\n        <Card>\r\n            <CardHeader>\r\n                <Heading>Subregion Data</Heading>\r\n            </CardHeader>\r\n            <CardBody>\r\n                <ButtonGroup>\r\n                    <Button \r\n                        isPrimary\r\n                        onClick={handleMapSave}\r\n                    >Save Map</Button>\r\n                </ButtonGroup>\r\n                <ToggleControl \r\n                    id=\"active\"\r\n                    label=\"Activate Subregions\"\r\n                    checked={selectedSubregions.every(subregion => subregion.active)}\r\n                    onChange={handleSubregionAction}\r\n                />\r\n                <SelectControl \r\n                    id=\"branch\"\r\n                    label=\"Select Branch\"\r\n                    options={branchOptions}\r\n                    onChange={handleSubregionAction}\r\n                    value={selectedSubregions.every(subregion => subregion.branch)}\r\n                />\r\n                <CardDivider />\r\n                <Heading level={4}>Selected Subregions:</Heading>\r\n                <ul>\r\n                    {\r\n                        selectedSubregions.map((subregion) => {\r\n                            return (\r\n                                <li key={subregion.id}><Heading level={5}>{subregion.name}</Heading></li>\r\n                            )\r\n                        })\r\n                    }\r\n                </ul>\r\n                <CardDivider />\r\n                <Heading level={4}>Subregion Restrictions:</Heading>\r\n                <ToggleControl \r\n                    id=\"restricted\"\r\n                    label=\"Restrict Subregions\"\r\n                    checked={selectedSubregions.every(subregion => subregion.restricted)}\r\n                    onChange={handleSubregionAction}\r\n                />\r\n                <TextControl \r\n                    id=\"restrictionReason\"\r\n                    label=\"Reason for Restriction\"\r\n                    value={selectedSubregions.every(subregion => subregion.restrictionReason)}\r\n                    onChange={handleSubregionAction}\r\n                />\r\n            </CardBody>\r\n        </Card>\r\n    )\r\n\r\n}\r\n\r\nexport default SubregionData","import { createContext, useRef, useState } from '@wordpress/element'\r\n\r\nconst MapContext = createContext()\r\n\r\nconst MapProvider = (props) => {\r\n\r\n    const [selectedSubregions, setSelectedSubregions] = useState([])\r\n    const [regions, setRegions] = useState([])\r\n    const [branches, setBranches] = useState([])\r\n\r\n    const handleMapSave = () => {\r\n        console.log('saving subregions')\r\n        console.log('saving regions')\r\n    }\r\n\r\n    return (\r\n        <MapContext.Provider value={{ \r\n            mapRef: useRef(),\r\n            selectedSubregions,\r\n            setSelectedSubregions,\r\n            regions,\r\n            setRegions,\r\n            branches,\r\n            setBranches,\r\n            handleMapSave \r\n        }}>\r\n            {props.children}\r\n        </MapContext.Provider>\r\n    )\r\n}\r\n\r\nexport { MapProvider, MapContext }","import RegionSelector from '../components/RegionSelector'\r\nimport MapLegend from '../components/MapLegend'\r\nimport SubregionData from '../components/SubregionData'\r\nimport MapDisplay from '../components/MapDisplay'\r\n// import MapProcessor from '../components/MapProcessor'\r\n\r\nconst Layout = () => {\r\n    console.log('Layout')\r\n    return (\r\n        <>\r\n            {/* <RegionSelector /> */}\r\n            {/* <MapLegend /> */}\r\n            {/* <SubregionData /> */}\r\n            <MapDisplay />\r\n            {/* <MapProcessor /> */}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Layout","import { MapProvider } from '../context/MapContext';\r\nimport Layout from './Layout';\r\n\r\nfunction App() {\r\n    console.log('App')\r\n    return (\r\n        <MapProvider>\r\n            <Layout />\r\n        </MapProvider>\r\n    );\r\n}\r\n\r\nexport default App;","module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { createRoot } from '@wordpress/element'\r\n\r\nimport App from './layout/MapProvider'\r\n\r\nconst mapContainer = document.getElementById('afc-territory-admin')\r\n\r\nif (mapContainer) {\r\n    createRoot(mapContainer).render(<App />)\r\n}"],"names":["useContext","useEffect","MapContext","MapDisplay","mapRef","setupMap","overpassQuery","fetch","method","body","then","response","json","data","features","nodes","elements","filter","element","type","ways","relations","forEach","relation","boundaryCoords","members","member","wayObj","find","way","id","ref","nodeId","nodeObj","node","coordinates","lat","lon","push","length","newPolygon","turf","polygon","tags","newCollection","featureCollection","console","log","newLayer","L","geoJSON","addTo","current","map","center","zoom","maxBounds","tileLayer","attribution","maxZoom","createElement","style","height","Card","CardHeader","CardBody","Heading","Grid","Button","MapLegend","branches","setBranches","handleLegendAction","event","target","key","columns","gap","branch","backgroundColor","color","onClick","name","ToggleControl","RegionSelector","regions","setRegions","handleRegionAction","eventProp","eventData","checked","value","region","fips","label","active","onChange","ButtonGroup","SelectControl","CardDivider","TextControl","SubregionData","selectedSubregions","setSelectedSubregions","handleMapSave","handleSubregionAction","subregion","isPrimary","every","options","branchOptions","level","restricted","restrictionReason","createContext","useRef","useState","MapProvider","props","Provider","children","Layout","Fragment","App","createRoot","mapContainer","document","getElementById","render"],"sourceRoot":""}